"use strict";(self.webpackChunkspire=self.webpackChunkspire||[]).push([[60],{7060:(D,i,t)=>{t.r(i),t.d(i,{ProfessorComponent:()=>P});var c=t(4933),l=t(1388),d=t(8381),m=t(8536),s=t(2223),p=t(4242),u=t(823),C=t(6286);const f=function(){return["Home","Users"]};let P=(()=>{class n{constructor(o,e,r){this.ProfessorService=o,this.SwalService=e,this.dialog=r,this.dataSource=[],this.displayedColumnsForGeneric=[{propertyName:"profId",ColumnName:"Id"},{propertyName:"fName",ColumnName:"First Name"},{propertyName:"lName",ColumnName:"Last Name"},{propertyName:"department",ColumnName:"Department"}],this.deleteErorrMessage=""}ngOnInit(){this.ProfessorService.getAll(d.NY.getAll).subscribe(o=>{let e=[];o.forEach(r=>{e.push({...r.applicationUser,...r,profId:r.id,department:r.department.dep_Name})}),this.dataSource=e})}openAddDialog(){this.dialog.open(m.P,{width:"80%",data:{...new l.A2,type:"Professor"}}).afterClosed().subscribe(e=>this.ngOnInit())}OpenEditDialog(o){this.dialog.open(m.P,{width:"80%",data:{...new l.A2("edit",o),type:"Professor"}}).afterClosed().subscribe(r=>this.ngOnInit())}Delete(o){o.swalResponse&&this.ProfessorService.Delete(d.NY.Delete,o.element.profId).subscribe({next:e=>{e&&(this.SwalService.Success(),this.ngOnInit())},error:e=>{console.log(e.error.message),this.SwalService.Fail(e.error.message)}})}}return n.\u0275fac=function(o){return new(o||n)(s.Y36(p.v),s.Y36(u.J),s.Y36(C.uw))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-professor"]],standalone:!0,features:[s.jDz],decls:1,vars:5,consts:[["BreadCrumbTitle","Professors",3,"dataSource","ColumnDefs","BreadCrumbActive_item","BreadCrumbItems","OnAddNewClick","OnEditClick","OnDeleteClick"]],template:function(o,e){1&o&&(s.TgZ(0,"my-table",0),s.NdJ("OnAddNewClick",function(){return e.openAddDialog()})("OnEditClick",function(a){return e.OpenEditDialog(a)})("OnDeleteClick",function(a){return e.Delete(a)}),s.qZA()),2&o&&s.Q6J("dataSource",e.dataSource)("ColumnDefs",e.displayedColumnsForGeneric)("BreadCrumbActive_item","Professors")("BreadCrumbItems",s.DdM(4,f))},dependencies:[c.bC],encapsulation:2}),n})()}}]);