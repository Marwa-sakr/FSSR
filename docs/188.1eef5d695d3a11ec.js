"use strict";(self.webpackChunkspire=self.webpackChunkspire||[]).push([[188],{1188:(N,m,a)=>{a.r(m),a.d(m,{MaterialTypeComponent:()=>I});var h=a(4933),l=a(6286),u=a(1388),d=a(8381),C=a(4755),r=a(9401),p=a(9114),f=a(8097),v=a(6737),g=a(1728),e=a(2223),y=a(4242);function M(o,s){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Type is required"),e.qZA())}function b(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.Add())}),e._uU(1," Add "),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}function S(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.Edit())}),e._uU(1," Edit "),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}let T=(()=>{class o{constructor(t,i,n,c){this.fb=t,this.dialogRef=i,this.MaterialTypeService=n,this.data=c,this.action="add",this.errorStateMatcher=new v.o,this.form=this.fb.group({id:[0],type:["",r.kI.required]})}ngOnInit(){this.action=this.data.action,"edit"==this.action&&this.form.patchValue(this.data.obj)}Add(){this.MaterialTypeService.add(d.IH.Add,this.form.value).subscribe({next:t=>{this.dialogRef.close()},error:t=>{console.log(t)}})}Edit(){this.MaterialTypeService.Update(d.IH.Update,this.form.value).subscribe({next:t=>this.dialogRef.close(),error:t=>console.log(t)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(r.qu),e.Y36(l.so),e.Y36(y.v),e.Y36(l.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-material-type-dilog"]],standalone:!0,features:[e.jDz],decls:14,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row","mt-2",3,"formGroup"],["appearance","outline",1,"col-md-6"],["matInput","","type","text","formControlName","type",3,"errorStateMatcher"],[4,"ngIf"],["mat-dialog-actions","",1,"d-flex","w-100","justify-content-center","gap-2"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Material Type Form"),e.qZA(),e.TgZ(2,"div",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),e._uU(6," Type "),e.qZA(),e._UZ(7,"input",4),e.YNc(8,M,2,0,"mat-error",5),e.qZA()()(),e.TgZ(9,"div",6),e.YNc(10,b,2,1,"button",7),e.YNc(11,S,2,1,"button",7),e.TgZ(12,"button",8),e.NdJ("click",function(){return i.dialogRef.close()}),e._uU(13," Cancel "),e.qZA()()),2&t){let n;e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(4),e.Q6J("errorStateMatcher",i.errorStateMatcher),e.xp6(1),e.Q6J("ngIf",null==(n=i.form.get("type"))?null:n.hasError("required")),e.xp6(2),e.Q6J("ngIf","add"==i.action),e.xp6(1),e.Q6J("ngIf","edit"==i.action)}},dependencies:[r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,r.u5,p.lN,p.KE,p.hX,p.TO,f.c,f.Nt,C.O5,l.Is,l.uh,l.xY,l.H8,g.ot,g.lW],encapsulation:2}),o})();var A=a(823);const D=function(){return["Home"]};let I=(()=>{class o{constructor(t,i,n){this.MaterialTypeService=t,this.dialog=i,this.SwalService=n,this.dataSource=[],this.displayedColumnsForGeneric=[{propertyName:"id",ColumnName:"Id"},{propertyName:"type",ColumnName:"Type"}]}ngOnInit(){this.MaterialTypeService.getAll(d.IH.getAll).subscribe({next:t=>{this.dataSource=t},error:t=>{this.SwalService.Fail(t.error.message)}})}Add(){this.dialog.open(T,{width:"50%",data:new u.A2}).afterClosed().subscribe(i=>this.ngOnInit())}edit(t){this.dialog.open(T,{width:"50%",data:new u.A2("edit",t)}).afterClosed().subscribe(n=>this.ngOnInit())}Delete(t){t.swalResponse&&this.MaterialTypeService.Delete(d.IH.Delete,t.element.id).subscribe({next:i=>{this.ngOnInit(),this.SwalService.Success()},error:i=>this.SwalService.Fail()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.v),e.Y36(l.uw),e.Y36(A.J))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-material-type"]],standalone:!0,features:[e.jDz],decls:1,vars:5,consts:[["BreadCrumbTitle","MaterialType",3,"dataSource","ColumnDefs","BreadCrumbActive_item","BreadCrumbItems","OnAddNewClick","OnEditClick","OnDeleteClick"]],template:function(t,i){1&t&&(e.TgZ(0,"my-table",0),e.NdJ("OnAddNewClick",function(){return i.Add()})("OnEditClick",function(c){return i.edit(c)})("OnDeleteClick",function(c){return i.Delete(c)}),e.qZA()),2&t&&e.Q6J("dataSource",i.dataSource)("ColumnDefs",i.displayedColumnsForGeneric)("BreadCrumbActive_item","Material Type")("BreadCrumbItems",e.DdM(4,D))},dependencies:[h.bC,l.Is],encapsulation:2}),o})()}}]);