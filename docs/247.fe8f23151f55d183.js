"use strict";(self.webpackChunkspire=self.webpackChunkspire||[]).push([[247],{5247:(g,i,n)=>{n.r(i),n.d(i,{StudentComponent:()=>E});var u=n(4933),c=n(5326),l=n(1388),d=n(8381),_=n(8536),a=n(2223),p=n(4242),C=n(823),O=n(6286);const D=function(){return["Home","Users"]};let E=(()=>{class s{constructor(t,e,o){this.StudentService=t,this.SwalService=e,this.dialog=o,this.dataSource=[],this.displayedColumnsForGeneric=[{propertyName:"studentId",ColumnName:"Id"},{propertyName:"fName",ColumnName:"First Name"},{propertyName:"lName",ColumnName:"Last Name"},{propertyName:"program",ColumnName:"Program"}]}ngOnInit(){this.StudentService.getAll(d.qO.getAll).subscribe(t=>{let e=[];t.forEach(o=>{e.push({...o.applicationUser,...o,studentId:o.id,program:o.academicProgram.program_Name})}),this.dataSource=e})}openAddDialog(){this.dialog.open(_.P,{width:"80%",data:{...new l.A2,type:"Student"}}).afterClosed().subscribe(e=>this.ngOnInit())}OpenEditDialog(t){this.dialog.open(_.P,{width:"80%",data:{...new l.A2("edit",t),type:"Student"}}).afterClosed().subscribe(o=>this.ngOnInit())}Delete(t){t.swalResponse&&this.StudentService.Delete(d.qO.Delete,t.element.id).subscribe({next:e=>{this.SwalService.Success(),this.ngOnInit()},error:e=>{this.SwalService.Fail(e.error.message)}})}}return s.\u0275fac=function(t){return new(t||s)(a.Y36(p.v),a.Y36(C.J),a.Y36(O.uw))},s.\u0275cmp=a.Xpm({type:s,selectors:[["app-student"]],standalone:!0,features:[a.jDz],decls:1,vars:5,consts:[["BreadCrumbTitle","Students",3,"dataSource","ColumnDefs","BreadCrumbActive_item","BreadCrumbItems","OnAddNewClick","OnEditClick","OnDeleteClick"]],template:function(t,e){1&t&&(a.TgZ(0,"my-table",0),a.NdJ("OnAddNewClick",function(){return e.openAddDialog()})("OnEditClick",function(r){return e.OpenEditDialog(r)})("OnDeleteClick",function(r){return e.Delete(r)}),a.qZA()),2&t&&a.Q6J("dataSource",e.dataSource)("ColumnDefs",e.displayedColumnsForGeneric)("BreadCrumbActive_item","Students")("BreadCrumbItems",a.DdM(4,D))},dependencies:[u.bC,c.ii],encapsulation:2}),s})()}}]);