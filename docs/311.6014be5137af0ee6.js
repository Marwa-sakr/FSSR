"use strict";(self.webpackChunkspire=self.webpackChunkspire||[]).push([[311],{3311:(O,Z,a)=>{a.r(Z),a.d(Z,{AcademicProgramComponent:()=>F});var e=a(2223),P=a(1388),I=a(4933),c=a(6286),g=a(8381),T=a(4755),h=a(9114),i=a(9401),l=a(8097),v=a(1728),A=a(6737),s=a(787),d=a(7188),u=a(4242),p=a(1217);function b(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Name is required"),e.qZA())}function C(r,n){if(1&r&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.dep_Name," ")}}function D(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Department is required "),e.qZA())}function S(r,n){if(1&r&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.course_Name," ")}}function J(r,n){1&r&&(e.TgZ(0,"mat-error"),e._uU(1," Department is required "),e.qZA())}function x(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.Add())}),e._uU(1,"Add"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}function Y(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.Edit())}),e._uU(1,"Edit"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.form.invalid)}}let y=(()=>{class r{constructor(t,o,m,f,N,Q){this.fb=t,this.dialogRef=o,this.AcademicProgramService=m,this.departmentService=f,this.courseService=N,this.data=Q,this.departments=[],this.courses=[],this.form=this.fb.group({id:[0],program_Name:["",i.kI.required],departmentId:[0,i.kI.required],courseIds:[[],i.kI.required]}),this.action="add",this.errorStateMatcher=new A.o}ngOnInit(){if(this.action=this.data.action,"edit"==this.action){let t=this.data.obj;t.courseIds=t.coursePrograms.map(o=>o.courseId),this.form.patchValue(t)}(0,d.$)(this.departmentService.getAll(g.yy.getAll),this.courseService.getAll(g._W.getAll)).subscribe(([t,o])=>{this.departments=t,this.courses=o})}Add(){this.AcademicProgramService.add(g.c0.Add,this.form.value).subscribe({next:t=>this.dialogRef.close(),error:t=>console.log(t)})}Edit(){this.AcademicProgramService.Update(g.c0.Update,this.form.value).subscribe({next:t=>this.dialogRef.close(),error:t=>console.log(t)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(c.so),e.Y36(u.v),e.Y36(u.v),e.Y36(u.v),e.Y36(c.WI))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-academic-program-dilog"]],standalone:!0,features:[e.jDz],decls:26,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row",3,"formGroup"],["appearance","outline",1,"col-md-6","mt-2"],["matInput","","type","text","formControlName","program_Name",3,"errorStateMatcher"],[4,"ngIf"],["appearance","outline",1,"col-md-6","mb-2"],["formControlName","departmentId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","courseIds","multiple",""],["mat-dialog-actions","",1,"d-flex","w-100","justify-content-center","gap-2"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],[3,"value"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Acedemic Program Form"),e.qZA(),e.TgZ(2,"div",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"Program Name"),e.qZA(),e._UZ(7,"input",4),e.YNc(8,b,2,0,"mat-error",5),e.qZA(),e.TgZ(9,"mat-form-field",6)(10,"mat-label"),e._uU(11,"Department"),e.qZA(),e.TgZ(12,"mat-select",7),e.YNc(13,C,2,2,"mat-option",8),e.qZA(),e.YNc(14,D,2,0,"mat-error",5),e.qZA(),e.TgZ(15,"mat-form-field",6)(16,"mat-label"),e._uU(17,"Courses"),e.qZA(),e.TgZ(18,"mat-select",9),e.YNc(19,S,2,2,"mat-option",8),e.qZA(),e.YNc(20,J,2,0,"mat-error",5),e.qZA()()(),e.TgZ(21,"div",10),e.YNc(22,x,2,1,"button",11),e.YNc(23,Y,2,1,"button",11),e.TgZ(24,"button",12),e.NdJ("click",function(){return o.dialogRef.close()}),e._uU(25,"Cancel"),e.qZA()()),2&t){let m,f,N;e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("errorStateMatcher",o.errorStateMatcher),e.xp6(1),e.Q6J("ngIf",null==(m=o.form.get("program_Name"))?null:m.hasError("required")),e.xp6(5),e.Q6J("ngForOf",o.departments),e.xp6(1),e.Q6J("ngIf",null==(f=o.form.get("departmentId"))?null:f.hasError("required")),e.xp6(5),e.Q6J("ngForOf",o.courses),e.xp6(1),e.Q6J("ngIf",null==(N=o.form.get("courseIds"))?null:N.hasError("required")),e.xp6(2),e.Q6J("ngIf","add"==o.action),e.xp6(1),e.Q6J("ngIf","edit"==o.action)}},dependencies:[T.O5,h.lN,h.KE,h.hX,h.TO,s.LD,s.gD,p.ey,T.ax,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,l.c,l.Nt,v.ot,v.lW,c.Is,c.uh,c.xY,c.H8],encapsulation:2}),r})();var E=a(823);const U=function(){return["Home"]};let F=(()=>{class r{constructor(t,o){this.AcademicProgramService=t,this.SwalService=o,this.dataSource=[],this.displayedColumnsForGeneric=[{propertyName:"id",ColumnName:"Id"},{propertyName:"program_Name",ColumnName:"Name"}],this.dialog=(0,e.f3M)(c.uw)}ngOnInit(){this.AcademicProgramService.getAll(g.c0.getAll).subscribe(t=>{this.dataSource=t})}openAddDialog(){this.dialog.open(y,{width:"50%",data:new P.A2}).afterClosed().subscribe(o=>this.ngOnInit())}OpenEditDialog(t){this.dialog.open(y,{width:"50%",data:new P.A2("edit",t)}).afterClosed().subscribe(m=>this.ngOnInit())}Delete(t){t.swalResponse&&this.AcademicProgramService.Delete(g.c0.Delete,t.element.id).subscribe({next:o=>{this.ngOnInit(),this.SwalService.Success()},error:o=>this.SwalService.Fail()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(u.v),e.Y36(E.J))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-academic-program"]],standalone:!0,features:[e.jDz],decls:1,vars:5,consts:[["BreadCrumbTitle","AcademicProgram",3,"dataSource","ColumnDefs","BreadCrumbActive_item","BreadCrumbItems","OnAddNewClick","OnEditClick","OnDeleteClick"]],template:function(t,o){1&t&&(e.TgZ(0,"my-table",0),e.NdJ("OnAddNewClick",function(){return o.openAddDialog()})("OnEditClick",function(f){return o.OpenEditDialog(f)})("OnDeleteClick",function(f){return o.Delete(f)}),e.qZA()),2&t&&e.Q6J("dataSource",o.dataSource)("ColumnDefs",o.displayedColumnsForGeneric)("BreadCrumbActive_item","AcademicProgram")("BreadCrumbItems",e.DdM(4,U))},dependencies:[I.bC,c.Is],encapsulation:2}),r})()},7188:(O,Z,a)=>{a.d(Z,{$:()=>i});var e=a(9751),P=a(8421);const{isArray:I}=Array;var g=a(515),T=a(5403),h=a(3269);function i(...l){const v=(0,h.jO)(l),A=function c(l){return 1===l.length&&I(l[0])?l[0]:l}(l);return A.length?new e.y(s=>{let d=A.map(()=>[]),u=A.map(()=>!1);s.add(()=>{d=u=null});for(let p=0;!s.closed&&p<A.length;p++)(0,P.Xf)(A[p]).subscribe((0,T.x)(s,b=>{if(d[p].push(b),d.every(C=>C.length)){const C=d.map(D=>D.shift());s.next(v?v(...C):C),d.some((D,S)=>!D.length&&u[S])&&s.complete()}},()=>{u[p]=!0,!d[p].length&&s.complete()}));return()=>{d=u=null}}):g.E}}}]);