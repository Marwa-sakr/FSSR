"use strict";(self.webpackChunkspire=self.webpackChunkspire||[]).push([[29],{1029:(O,p,a)=>{a.r(p),a.d(p,{DepartmentComponent:()=>I});var t=a(2223),D=a(4933),l=a(6286),u=a(1388),v=a(4755),i=a(9401),d=a(9114),b=a(6737),f=a(8097),c=a(8381),g=a(1728),h=a(4242);function y(o,s){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Name is required"),t.qZA())}function A(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.Add())}),t._uU(1,"Add"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.form.invalid)}}function N(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.Edit())}),t._uU(1,"Edit"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.form.invalid)}}let C=(()=>{class o{constructor(e,n,r,m){this.fb=e,this.dialogRef=n,this.departmenetService=r,this.data=m,this.form=this.fb.group({id:[0],dep_Name:["",i.kI.required]}),this.action="add",this.errorStateMatcher=new b.o}ngOnInit(){this.action=this.data.action,"edit"==this.action&&this.form.patchValue(this.data.obj)}Add(){console.log(this.form.value),this.departmenetService.add(c.yy.Add,this.form.value).subscribe({next:e=>this.dialogRef.close(),error:e=>console.log(e)})}Edit(){this.departmenetService.Update(c.yy.Update,this.form.value).subscribe({next:e=>this.dialogRef.close(),error:e=>console.log(e)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(l.so),t.Y36(h.v),t.Y36(l.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-department-dialog"]],standalone:!0,features:[t.jDz],decls:14,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row","mt-2",3,"formGroup"],["appearance","outline",1,"col-md-6"],["matInput","","type","text","formControlName","dep_Name",3,"errorStateMatcher"],[4,"ngIf"],["mat-dialog-actions","",1,"d-flex","w-100","justify-content-center","gap-2"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Department Form"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Department Name"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,y,2,0,"mat-error",5),t.qZA()()(),t.TgZ(9,"div",6),t.YNc(10,A,2,1,"button",7),t.YNc(11,N,2,1,"button",7),t.TgZ(12,"button",8),t.NdJ("click",function(){return n.dialogRef.close()}),t._uU(13,"Cancel"),t.qZA()()),2&e){let r;t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(4),t.Q6J("errorStateMatcher",n.errorStateMatcher),t.xp6(1),t.Q6J("ngIf",null==(r=n.form.get("dep_Name"))?null:r.hasError("required")),t.xp6(2),t.Q6J("ngIf","add"==n.action),t.xp6(1),t.Q6J("ngIf","edit"==n.action)}},dependencies:[v.O5,d.lN,d.KE,d.hX,d.TO,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,f.c,f.Nt,g.ot,g.lW,l.Is,l.uh,l.xY,l.H8],encapsulation:2}),o})();var S=a(823);const T=function(){return["Home"]};let I=(()=>{class o{constructor(e,n){this.departmentService=e,this.SwalService=n,this.dataSource=[],this.displayedColumnsForGeneric=[{propertyName:"id",ColumnName:"Id"},{propertyName:"dep_Name",ColumnName:"Name"}],this.dialog=(0,t.f3M)(l.uw)}ngOnInit(){this.departmentService.getAll(c.yy.getAll).subscribe(e=>{this.dataSource=e})}openAddDialog(){this.dialog.open(C,{width:"50%",data:new u.A2}).afterClosed().subscribe(n=>this.ngOnInit())}OpenEditDialog(e){this.dialog.open(C,{width:"50%",data:new u.A2("edit",e)}).afterClosed().subscribe(r=>this.ngOnInit())}Delete(e){e.swalResponse&&this.departmentService.Delete(c.yy.Delete,e.element.id).subscribe({next:n=>{this.ngOnInit(),this.SwalService.Success()},error:n=>this.SwalService.Fail()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.v),t.Y36(S.J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-department"]],standalone:!0,features:[t.jDz],decls:1,vars:5,consts:[["BreadCrumbTitle","Departments",3,"dataSource","ColumnDefs","BreadCrumbActive_item","BreadCrumbItems","OnAddNewClick","OnEditClick","OnDeleteClick"]],template:function(e,n){1&e&&(t.TgZ(0,"my-table",0),t.NdJ("OnAddNewClick",function(){return n.openAddDialog()})("OnEditClick",function(m){return n.OpenEditDialog(m)})("OnDeleteClick",function(m){return n.Delete(m)}),t.qZA()),2&e&&t.Q6J("dataSource",n.dataSource)("ColumnDefs",n.displayedColumnsForGeneric)("BreadCrumbActive_item","Departments")("BreadCrumbItems",t.DdM(4,T))},dependencies:[D.bC,l.Is],encapsulation:2}),o})()}}]);