"use strict";(self.webpackChunkspire=self.webpackChunkspire||[]).push([[722],{1722:(I,m,n)=>{n.r(m),n.d(m,{RestrictionTypesComponent:()=>A});var t=n(2223),a=n(6286),y=n(4755),u=n(1728),l=n(9114),g=n(8097),s=n(9401),f=n(4242),d=n(8381),h=n(6737);function C(i,c){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Type is required"),t.qZA())}function R(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.AddRT())}),t._uU(1,"Add"),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("disabled",e.FormGroupRest.invalid)}}function b(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.EditRt())}),t._uU(1,"Edit"),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("disabled",e.FormGroupRest.invalid)}}let T=(()=>{class i{constructor(e,o,r){this.dialogRef=e,this.fb=o,this.data=r,this.errorStateMatcher=new h.o,this.FormGroupRest=this.fb.group({id:[0],Type:["",s.kI.required]}),this.action="add",this.restrcitionTypesService=(0,t.f3M)(f.v)}ngOnInit(){this.action=this.data.action,"edit"==this.action&&this.FormGroupRest.patchValue(this.data.obj)}AddRT(){this.restrcitionTypesService.add(d.UD.Add,this.FormGroupRest.value).subscribe({next:e=>{this.dialogRef.close(e)},error:e=>{console.log(e)}})}EditRt(){this.restrcitionTypesService.Update(d.UD.Update,this.FormGroupRest.value).subscribe({next:e=>{this.dialogRef.close()},error:e=>{console.log(e)}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(a.so),t.Y36(s.qu),t.Y36(a.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-restriction-type-dialog"]],standalone:!0,features:[t.jDz],decls:14,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row","mt-2",3,"formGroup"],["appearance","outline",1,"col-md-6","mb-2"],["matInput","","type","text","formControlName","Type",3,"errorStateMatcher"],[4,"ngIf"],["mat-dialog-actions","",1,"d-flex","w-100","justify-content-center","gap-2"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Resstriction Type Form"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Type"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,C,2,0,"mat-error",5),t.qZA()()(),t.TgZ(9,"div",6),t.YNc(10,R,2,1,"button",7),t.YNc(11,b,2,1,"button",7),t.TgZ(12,"button",8),t.NdJ("click",function(){return o.dialogRef.close()}),t._uU(13,"Cancel"),t.qZA()()),2&e){let r;t.xp6(3),t.Q6J("formGroup",o.FormGroupRest),t.xp6(4),t.Q6J("errorStateMatcher",o.errorStateMatcher),t.xp6(1),t.Q6J("ngIf",null==(r=o.FormGroupRest.get("Type"))?null:r.hasError("required")),t.xp6(2),t.Q6J("ngIf","add"===o.action),t.xp6(1),t.Q6J("ngIf","edit"===o.action)}},dependencies:[a.Is,a.uh,a.xY,a.H8,u.ot,u.lW,l.lN,l.KE,l.hX,l.TO,g.c,g.Nt,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,y.O5],encapsulation:2}),i})();var v=n(4933),D=n(823);const S=function(){return["Home"]};let A=(()=>{class i{constructor(e,o){this.dialog=e,this.SwalService=o,this.displayedColumnsForGeneric=[{propertyName:"id",ColumnName:"Id"},{propertyName:"type",ColumnName:"Type"}],this.dataSource=[],this.restrcitionTypesService=(0,t.f3M)(f.v)}ngOnInit(){this.restrcitionTypesService.getAll(d.UD.getAll).subscribe(e=>{this.dataSource=e})}openAddDialog(){this.dialog.open(T,{width:"50%",data:{action:"add",obj:null}}).afterClosed().subscribe(o=>{this.ngOnInit()})}DeleteRestriction(e){console.log(e),e.swalResponse&&this.restrcitionTypesService.Delete(d.UD.Delete,e.element.id).subscribe({next:o=>{this.ngOnInit(),this.SwalService.Success()},error:o=>{this.SwalService.Fail()}})}OpenEditDialog(e){this.dialog.open(T,{width:"50%",data:{action:"edit",obj:e}}).afterClosed().subscribe(r=>{this.ngOnInit()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(a.uw),t.Y36(D.J))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-restriction-types"]],standalone:!0,features:[t.jDz],decls:1,vars:5,consts:[["BreadCrumbTitle","Restriciton Types",3,"dataSource","ColumnDefs","BreadCrumbActive_item","BreadCrumbItems","OnAddNewClick","OnEditClick","OnDeleteClick"]],template:function(e,o){1&e&&(t.TgZ(0,"my-table",0),t.NdJ("OnAddNewClick",function(){return o.openAddDialog()})("OnEditClick",function(p){return o.OpenEditDialog(p)})("OnDeleteClick",function(p){return o.DeleteRestriction(p)}),t.qZA()),2&e&&t.Q6J("dataSource",o.dataSource)("ColumnDefs",o.displayedColumnsForGeneric)("BreadCrumbActive_item","Restriction Type")("BreadCrumbItems",t.DdM(4,S))},dependencies:[a.Is,v.bC],encapsulation:2}),i})()}}]);